{% extends "base.html" %}

{% block content %}
<h2>Search Song by Name</h2>
<form method="POST" class="mb-4">
    <div class="input-group">
        <input type="text" name="song_name" class="form-control" placeholder="Enter song name" required>
        <button type="submit" class="btn btn-primary">Search</button>
    </div>
</form>

{% if track_info %}
{% if 'error' in track_info %}
<div class="alert alert-danger">{{ track_info.error }}</div>
{% else %}
<div class="card">
    <div class="card-body">
        <h3 class="card-title">{{ track_info.name }}</h3>
        <p class="card-text"><strong>Artist(s):</strong> {{ track_info.artists }}</p>
        <p class="card-text"><strong>Album:</strong> {{ track_info.album }}</p>
        <p class="card-text"><strong>Duration:</strong> {{ track_info.duration }}</p>
        <a href="{{ track_info.url }}" target="_blank" class="btn btn-success">Play on Spotify</a>
        {% if track_info.preview_url != 'Not available' %}
        <audio controls class="mt-3">
            <source src="{{ track_info.preview_url }}" type="audio/mpeg">
        </audio>
        {% endif %}
    </div>
</div>
{% endif %}
{% endif %}
{% endblock %}